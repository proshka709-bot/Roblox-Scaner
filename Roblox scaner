-- Mobile Scanner v7.0 | ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½ Ğ´Ğ»Ñ Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½Ğ¾Ğ² + Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ ĞºĞ¾Ğ´Ğ°
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")

if PlayerGui:FindFirstChild("MobileScan") then
    PlayerGui.MobileScan:Destroy()
end

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "MobileScan"
ScreenGui.ResetOnSpawn = false
ScreenGui.IgnoreGuiInset = true
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
ScreenGui.Parent = PlayerGui

-- ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€Ğ° ÑĞºÑ€Ğ°Ğ½Ğ°
local function GetViewportSizeSafe()
    local cam = workspace.CurrentCamera
    if cam then
        local vs = cam.ViewportSize
        if vs and vs.X > 0 and vs.Y > 0 then return vs end
    end

    local t0 = os.clock()
    while os.clock() - t0 < 3 do
        cam = workspace.CurrentCamera
        if cam then
            local vs = cam.ViewportSize
            if vs and vs.X > 0 and vs.Y > 0 then return vs end
        end
        task.wait()
    end

    return Vector2.new(800, 600)
end

local ViewportSize = GetViewportSizeSafe()
local isMobile = UserInputService.TouchEnabled or ViewportSize.X < 600

-- ĞĞ´Ğ°Ğ¿Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğµ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€Ñ‹
local FULL_W = isMobile and math.min(ViewportSize.X - 20, 380) or 480
local FULL_H = isMobile and math.min(ViewportSize.Y - 40, 600) or 520
local MINI_H = 45

local C = {
    BG      = Color3.fromRGB(8, 8, 16),
    Panel   = Color3.fromRGB(16, 16, 28),
    Panel2  = Color3.fromRGB(20, 20, 36),
    Blue    = Color3.fromRGB(60, 120, 255),
    Green   = Color3.fromRGB(60, 200, 100),
    Red     = Color3.fromRGB(220, 60, 60),
    Yellow  = Color3.fromRGB(220, 180, 40),
    Purple  = Color3.fromRGB(150, 70, 220),
    Orange  = Color3.fromRGB(220, 130, 40),
    Text    = Color3.fromRGB(240, 240, 255),
    Dim     = Color3.fromRGB(130, 130, 160),
    Faint   = Color3.fromRGB(60, 60, 90),
    Bar     = Color3.fromRGB(22, 22, 38),
    Row1    = Color3.fromRGB(18, 18, 32),
    Row2    = Color3.fromRGB(22, 22, 40),
}

local function MkCorner(p, r)
    local c = Instance.new("UICorner")
    c.CornerRadius = UDim.new(0, r or 10)
    c.Parent = p
end

local function MkStroke(p, col, th)
    local s = Instance.new("UIStroke")
    s.Color = col or Color3.fromRGB(40, 40, 70)
    s.Thickness = th or 1.2
    s.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
    s.Parent = p
end

local function Tween(obj, props, t, style)
    TweenService:Create(obj, TweenInfo.new(t or 0.15, style or Enum.EasingStyle.Quad), props):Play()
end

local function MkPadding(p, t, b, l, r)
    local pad = Instance.new("UIPadding")
    pad.PaddingTop = UDim.new(0, t or 4)
    pad.PaddingBottom = UDim.new(0, b or 4)
    pad.PaddingLeft = UDim.new(0, l or 6)
    pad.PaddingRight = UDim.new(0, r or 6)
    pad.Parent = p
end

-- Ğ“Ğ›ĞĞ’ĞĞ«Ğ™ Ğ¤Ğ Ğ•Ğ™Ğœ
local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, FULL_W, 0, FULL_H)
Frame.Position = UDim2.new(0.5, -FULL_W/2, 0.5, -FULL_H/2)
Frame.BackgroundColor3 = C.BG
Frame.BorderSizePixel = 0
Frame.ZIndex = 10
Frame.ClipsDescendants = true
Frame.Parent = ScreenGui
MkCorner(Frame, isMobile and 12 or 14)
MkStroke(Frame, Color3.fromRGB(45, 45, 80), 1.5)

local BgGrad = Instance.new("UIGradient")
BgGrad.Color = ColorSequence.new({
    ColorSequenceKeypoint.new(0, Color3.fromRGB(10, 10, 20)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(6, 6, 14)),
})
BgGrad.Rotation = 135
BgGrad.Parent = Frame

-- Ğ¥Ğ•Ğ”Ğ•Ğ 
local Header = Instance.new("Frame")
Header.Size = UDim2.new(1, 0, 0, isMobile and 42 or 46)
Header.BackgroundColor3 = C.Panel
Header.BorderSizePixel = 0
Header.ZIndex = 11
Header.Parent = Frame
MkCorner(Header, isMobile and 12 or 14)

local HeaderFix = Instance.new("Frame")
HeaderFix.Size = UDim2.new(1, 0, 0.5, 0)
HeaderFix.Position = UDim2.new(0, 0, 0.5, 0)
HeaderFix.BackgroundColor3 = C.Panel
HeaderFix.BorderSizePixel = 0
HeaderFix.ZIndex = 11
HeaderFix.Parent = Header

local Accent = Instance.new("Frame")
Accent.Size = UDim2.new(0.3, 0, 0, 2)
Accent.Position = UDim2.new(0, 10, 1, -2)
Accent.BackgroundColor3 = C.Blue
Accent.BorderSizePixel = 0
Accent.ZIndex = 12
Accent.Parent = Header
MkCorner(Accent, 1)
local AccentGrad = Instance.new("UIGradient")
AccentGrad.Color = ColorSequence.new({
    ColorSequenceKeypoint.new(0, C.Blue),
    ColorSequenceKeypoint.new(1, C.Purple),
})
AccentGrad.Parent = Accent

local TitleLbl = Instance.new("TextLabel")
TitleLbl.Size = UDim2.new(0.6, 0, 1, 0)
TitleLbl.Position = UDim2.new(0, 10, 0, 0)
TitleLbl.BackgroundTransparency = 1
TitleLbl.Text = isMobile and "ğŸ“± Scanner v7.0" or "ğŸ” Mobile Scanner v7.0"
TitleLbl.TextColor3 = C.Text
TitleLbl.TextSize = isMobile and 13 or 15
TitleLbl.Font = Enum.Font.GothamBold
TitleLbl.TextXAlignment = Enum.TextXAlignment.Left
TitleLbl.ZIndex = 12
TitleLbl.Parent = Header

local TimeLbl = Instance.new("TextLabel")
TimeLbl.Size = UDim2.new(0, isMobile and 70 or 90, 1, 0)
TimeLbl.Position = UDim2.new(1, isMobile and -130 or -160, 0, 0)
TimeLbl.BackgroundTransparency = 1
TimeLbl.Text = ""
TimeLbl.TextColor3 = C.Dim
TimeLbl.TextSize = isMobile and 9 or 10
TimeLbl.Font = Enum.Font.GothamMedium
TimeLbl.TextXAlignment = Enum.TextXAlignment.Right
TimeLbl.ZIndex = 12
TimeLbl.Parent = Header

local MinBtn = Instance.new("TextButton")
MinBtn.Size = UDim2.new(0, isMobile and 26 or 28, 0, isMobile and 26 or 28)
MinBtn.Position = UDim2.new(1, isMobile and -60 or -68, 0.5, isMobile and -13 or -14)
MinBtn.BackgroundColor3 = Color3.fromRGB(30, 50, 80)
MinBtn.Text = "â€”"
MinBtn.TextColor3 = C.Blue
MinBtn.TextSize = isMobile and 12 or 14
MinBtn.Font = Enum.Font.GothamBold
MinBtn.BorderSizePixel = 0
MinBtn.ZIndex = 12
MinBtn.Parent = Header
MkCorner(MinBtn, 7)

local CloseBtn = Instance.new("TextButton")
CloseBtn.Size = UDim2.new(0, isMobile and 26 or 28, 0, isMobile and 26 or 28)
CloseBtn.Position = UDim2.new(1, isMobile and -32 or -36, 0.5, isMobile and -13 or -14)
CloseBtn.BackgroundColor3 = Color3.fromRGB(80, 22, 22)
CloseBtn.Text = "âœ•"
CloseBtn.TextColor3 = C.Red
CloseBtn.TextSize = isMobile and 12 or 14
CloseBtn.Font = Enum.Font.GothamBold
CloseBtn.BorderSizePixel = 0
CloseBtn.ZIndex = 12
CloseBtn.Parent = Header
MkCorner(CloseBtn, 7)

-- ĞšĞĞĞ¢Ğ•ĞĞ¢
local headerHeight = isMobile and 42 or 46
local Content = Instance.new("Frame")
Content.Size = UDim2.new(1, 0, 1, -headerHeight)
Content.Position = UDim2.new(0, 0, 0, headerHeight)
Content.BackgroundTransparency = 1
Content.ZIndex = 11
Content.Parent = Frame

local StatusLbl = Instance.new("TextLabel")
StatusLbl.Size = UDim2.new(1, -20, 0, isMobile and 18 or 20)
StatusLbl.Position = UDim2.new(0, 10, 0, 6)
StatusLbl.BackgroundTransparency = 1
StatusLbl.Text = "Ğ“Ğ¾Ñ‚Ğ¾Ğ² Ğº ÑĞºĞ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ" .. (isMobile and "" or " [RCtrl â€” Ğ·Ğ°Ğ¿ÑƒÑĞº]")
StatusLbl.TextColor3 = C.Dim
StatusLbl.TextSize = isMobile and 10 or 11
StatusLbl.Font = Enum.Font.GothamMedium
StatusLbl.TextXAlignment = Enum.TextXAlignment.Left
StatusLbl.TextTruncate = Enum.TextTruncate.AtEnd
StatusLbl.ZIndex = 12
StatusLbl.Parent = Content

local BarBG = Instance.new("Frame")
BarBG.Size = UDim2.new(1, -20, 0, isMobile and 5 or 6)
BarBG.Position = UDim2.new(0, 10, 0, isMobile and 26 or 30)
BarBG.BackgroundColor3 = C.Bar
BarBG.BorderSizePixel = 0
BarBG.ZIndex = 12
BarBG.Parent = Content
MkCorner(BarBG, 3)

local BarFill = Instance.new("Frame")
BarFill.Size = UDim2.new(0, 0, 1, 0)
BarFill.BackgroundColor3 = C.Blue
BarFill.BorderSizePixel = 0
BarFill.ZIndex = 13
BarFill.Parent = BarBG
MkCorner(BarFill, 3)

local BarGrad = Instance.new("UIGradient")
BarGrad.Color = ColorSequence.new({
    ColorSequenceKeypoint.new(0, C.Blue),
    ColorSequenceKeypoint.new(1, C.Purple),
})
BarGrad.Parent = BarFill

local PercentLbl = Instance.new("TextLabel")
PercentLbl.Size = UDim2.new(0.5, 0, 0, 14)
PercentLbl.Position = UDim2.new(0, 10, 0, isMobile and 34 or 40)
PercentLbl.BackgroundTransparency = 1
PercentLbl.Text = "0%"
PercentLbl.TextColor3 = C.Faint
PercentLbl.TextSize = isMobile and 9 or 10
PercentLbl.Font = Enum.Font.GothamMedium
PercentLbl.TextXAlignment = Enum.TextXAlignment.Left
PercentLbl.ZIndex = 12
PercentLbl.Parent = Content

local CountLbl = Instance.new("TextLabel")
CountLbl.Size = UDim2.new(0.5, -10, 0, 14)
CountLbl.Position = UDim2.new(0.5, 0, 0, isMobile and 34 or 40)
CountLbl.BackgroundTransparency = 1
CountLbl.Text = ""
CountLbl.TextColor3 = C.Blue
CountLbl.TextSize = isMobile and 9 or 10
CountLbl.Font = Enum.Font.GothamBold
CountLbl.TextXAlignment = Enum.TextXAlignment.Right
CountLbl.ZIndex = 12
CountLbl.Parent = Content

-- Ğ‘Ğ•Ğ™Ğ”Ğ–Ğ˜ (Ğ°Ğ´Ğ°Ğ¿Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğµ)
local BadgeHolder = Instance.new("Frame")
BadgeHolder.Size = UDim2.new(1, -20, 0, isMobile and 48 or 26)
BadgeHolder.Position = UDim2.new(0, 10, 0, isMobile and 50 or 56)
BadgeHolder.BackgroundTransparency = 1
BadgeHolder.ZIndex = 12
BadgeHolder.Parent = Content

local BadgeLayout = Instance.new("UIListLayout")
BadgeLayout.FillDirection = Enum.FillDirection.Horizontal
BadgeLayout.Padding = UDim.new(0, isMobile and 4 or 5)
BadgeLayout.VerticalAlignment = Enum.VerticalAlignment.Top
BadgeLayout.Wraps = isMobile
BadgeLayout.Parent = BadgeHolder

local function MkBadge(label, col, w)
    local f = Instance.new("Frame")
    f.Size = UDim2.new(0, w or (isMobile and 80 or 90), 0, isMobile and 20 or 22)
    f.BackgroundColor3 = col
    f.BackgroundTransparency = 0.78
    f.BorderSizePixel = 0
    f.ZIndex = 13
    f.Parent = BadgeHolder
    MkCorner(f, 5)
    MkStroke(f, col:Lerp(Color3.new(1,1,1), 0.1), 0.8)

    local l = Instance.new("TextLabel")
    l.Size = UDim2.new(1, 0, 1, 0)
    l.BackgroundTransparency = 1
    l.Text = label
    l.TextColor3 = col:Lerp(Color3.new(1,1,1), 0.3)
    l.TextSize = isMobile and 9 or 10
    l.Font = Enum.Font.GothamBold
    l.ZIndex = 14
    l.Parent = f
    return l
end

local BadgeLocal  = MkBadge("ğŸŸ¡ Local: 0",  C.Yellow, isMobile and 80 or 90)
local BadgeModule = MkBadge("ğŸŸ£ Module: 0", C.Purple, isMobile and 80 or 90)
local BadgeScript = MkBadge("ğŸŸ¢ Script: 0", C.Green,  isMobile and 80 or 90)
local BadgeRemote = MkBadge("ğŸ“¡ Remote: 0", C.Blue,   isMobile and 85 or 95)

-- ĞŸĞĞ˜Ğ¡Ğš
local searchY = isMobile and 102 or 86
local SearchBar = Instance.new("TextBox")
SearchBar.Size = UDim2.new(1, -20, 0, isMobile and 28 or 26)
SearchBar.Position = UDim2.new(0, 10, 0, searchY)
SearchBar.BackgroundColor3 = C.Panel2
SearchBar.BorderSizePixel = 0
SearchBar.Text = ""
SearchBar.PlaceholderText = "ğŸ” ĞŸĞ¾Ğ¸ÑĞº..."
SearchBar.PlaceholderColor3 = C.Faint
SearchBar.TextColor3 = C.Text
SearchBar.TextSize = isMobile and 10 or 11
SearchBar.Font = Enum.Font.GothamMedium
SearchBar.TextXAlignment = Enum.TextXAlignment.Left
SearchBar.ClearTextOnFocus = false
SearchBar.ZIndex = 12
SearchBar.Parent = Content
MkCorner(SearchBar, 7)
MkStroke(SearchBar, C.Faint, 1)
MkPadding(SearchBar, 0, 0, 8, 8)

-- Ğ¤Ğ˜Ğ›Ğ¬Ğ¢Ğ Ğ«
local filterY = searchY + (isMobile and 32 or 30)
local FilterHolder = Instance.new("Frame")
FilterHolder.Size = UDim2.new(1, -20, 0, isMobile and 22 or 24)
FilterHolder.Position = UDim2.new(0, 10, 0, filterY)
FilterHolder.BackgroundTransparency = 1
FilterHolder.ZIndex = 12
FilterHolder.Parent = Content

local FilterLayout = Instance.new("UIListLayout")
FilterLayout.FillDirection = Enum.FillDirection.Horizontal
FilterLayout.Padding = UDim.new(0, isMobile and 3 or 4)
FilterLayout.Parent = FilterHolder

local activeFilter = "All"
local filterBtns = {}

local function MkFilter(label, key, col)
    local b = Instance.new("TextButton")
    b.Size = UDim2.new(0, isMobile and 60 or 70, 0, isMobile and 20 or 22)
    b.BackgroundColor3 = key == "All" and col or C.Panel2
    b.Text = label
    b.TextColor3 = key == "All" and C.Text or C.Dim
    b.TextSize = isMobile and 9 or 10
    b.Font = Enum.Font.GothamBold
    b.BorderSizePixel = 0
    b.ZIndex = 13
    b.Parent = FilterHolder
    MkCorner(b, 5)
    filterBtns[key] = {btn = b, col = col}
    return b
end

local fAll    = MkFilter("All",    "All",    C.Blue)
local fRemote = MkFilter("Remote", "Remote", C.Blue)
local fLocal  = MkFilter("Local",  "Local",  C.Yellow)
local fModule = MkFilter("Module", "Module", C.Purple)
local fScript = MkFilter("Script", "Script", C.Green)

-- Ğ¡ĞŸĞ˜Ğ¡ĞĞš Ğ Ğ•Ğ—Ğ£Ğ›Ğ¬Ğ¢ĞĞ¢ĞĞ’
local listY = filterY + (isMobile and 26 or 28)
local listH = FULL_H - listY - (isMobile and 80 or 90)

local ListOuter = Instance.new("Frame")
ListOuter.Size = UDim2.new(1, -20, 0, listH)
ListOuter.Position = UDim2.new(0, 10, 0, listY)
ListOuter.BackgroundColor3 = C.Panel
ListOuter.BorderSizePixel = 0
ListOuter.ZIndex = 12
ListOuter.ClipsDescendants = true
ListOuter.Parent = Content
MkCorner(ListOuter, 8)
MkStroke(ListOuter, C.Faint, 1)

local ScrollFrame = Instance.new("ScrollingFrame")
ScrollFrame.Size = UDim2.new(1, -6, 1, 0)
ScrollFrame.BackgroundTransparency = 1
ScrollFrame.BorderSizePixel = 0
ScrollFrame.ScrollBarThickness = isMobile and 3 or 4
ScrollFrame.ScrollBarImageColor3 = C.Blue
ScrollFrame.ZIndex = 13
ScrollFrame.Parent = ListOuter

local ListLayout = Instance.new("UIListLayout")
ListLayout.Padding = UDim.new(0, 1)
ListLayout.Parent = ScrollFrame

local EmptyLbl = Instance.new("TextLabel")
EmptyLbl.Size = UDim2.new(1, 0, 0, 40)
EmptyLbl.BackgroundTransparency = 1
EmptyLbl.Text = "ĞĞ°Ğ¶Ğ¼Ğ¸ Ğ¡ĞšĞĞĞ˜Ğ ĞĞ’ĞĞ¢Ğ¬"
EmptyLbl.TextColor3 = C.Dim
EmptyLbl.TextSize = isMobile and 10 or 11
EmptyLbl.Font = Enum.Font.GothamMedium
EmptyLbl.ZIndex = 14
EmptyLbl.Parent = ScrollFrame

-- ĞšĞĞĞŸĞšĞ˜
local btnY = FULL_H - headerHeight - (isMobile and 70 or 76)
local BtnHolder = Instance.new("Frame")
BtnHolder.Size = UDim2.new(1, -20, 0, isMobile and 60 or 34)
BtnHolder.Position = UDim2.new(0, 10, 0, btnY)
BtnHolder.BackgroundTransparency = 1
BtnHolder.ZIndex = 12
BtnHolder.Parent = Content

local BtnLayout = Instance.new("UIListLayout")
BtnLayout.FillDirection = Enum.FillDirection.Horizontal
BtnLayout.Padding = UDim.new(0, isMobile and 4 or 6)
BtnLayout.VerticalAlignment = Enum.VerticalAlignment.Top
BtnLayout.Wraps = isMobile
BtnLayout.Parent = BtnHolder

local function MkBtn(text, col, w)
    local b = Instance.new("TextButton")
    b.Size = UDim2.new(0, w or (isMobile and 110 or 120), 0, isMobile and 28 or 32)
    b.BackgroundColor3 = col
    b.Text = text
    b.TextColor3 = C.Text
    b.TextSize = isMobile and 10 or 11
    b.Font = Enum.Font.GothamBold
    b.BorderSizePixel = 0
    b.ZIndex = 13
    b.Parent = BtnHolder
    MkCorner(b, 7)
    MkStroke(b, col:Lerp(Color3.new(1,1,1), 0.08), 1)
    b.MouseEnter:Connect(function()
        Tween(b, {BackgroundColor3 = col:Lerp(Color3.new(1,1,1), 0.15)})
    end)
    b.MouseLeave:Connect(function()
        Tween(b, {BackgroundColor3 = col})
    end)
    return b
end

local ScanBtn  = MkBtn("ğŸ” Ğ¡ĞšĞĞĞ˜Ğ ĞĞ’ĞĞ¢Ğ¬", C.Blue, isMobile and (FULL_W - 24) or 148)
local ViewBtn  = MkBtn("ğŸ‘ ĞšĞ¾Ğ´", Color3.fromRGB(70,40,120), isMobile and ((FULL_W - 28)/2) or 100)
local CopyBtn  = MkBtn("ğŸ“‹ ĞšĞ¾Ğ¿Ğ¸Ñ", Color3.fromRGB(35,50,90), isMobile and ((FULL_W - 28)/2) or 100)
local PrintBtn = MkBtn("ğŸ“œ ĞšĞ¾Ğ½ÑĞ¾Ğ»ÑŒ", Color3.fromRGB(30,45,30), isMobile and (FULL_W - 24) or 108)

-- DRAG (Ğ´Ğ»Ñ ĞŸĞš Ğ¸ Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ñ…)
local dragging, dragStart, startPos = false, nil, nil
local function StartDrag(input)
    dragging = true
    dragStart = input.Position
    startPos = Frame.Position
end
local function UpdateDrag(input)
    if dragging then
        local d = input.Position - dragStart
        Frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + d.X, startPos.Y.Scale, startPos.Y.Offset + d.Y)
    end
end
local function EndDrag()
    dragging = false
end

Header.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        StartDrag(input)
    end
end)
UserInputService.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
        UpdateDrag(input)
    end
end)
UserInputService.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        EndDrag()
    end
end)

-- ĞœĞ˜ĞĞ˜ĞœĞ˜Ğ—ĞĞ¦Ğ˜Ğ¯
local minimized = false
MinBtn.MouseButton1Click:Connect(function()
    minimized = not minimized
    if minimized then
        Tween(Frame, {Size = UDim2.new(0, FULL_W, 0, MINI_H)}, 0.25, Enum.EasingStyle.Quint)
        MinBtn.Text = "â–¡"
    else
        Tween(Frame, {Size = UDim2.new(0, FULL_W, 0, FULL_H)}, 0.25, Enum.EasingStyle.Quint)
        MinBtn.Text = "â€”"
    end
end)

-- Ğ›ĞĞ“Ğ˜ĞšĞ
local allItems = {}
local lastResult = ""
local scanning = false
local selectedItem = nil

local typeColor = {
    LocalScript    = C.Yellow,
    ModuleScript   = C.Purple,
    Script         = C.Green,
    RemoteEvent    = C.Blue,
    RemoteFunction = C.Orange,
}
local typeIcon = {
    LocalScript    = "ğŸŸ¡",
    ModuleScript   = "ğŸŸ£",
    Script         = "ğŸŸ¢",
    RemoteEvent    = "ğŸ“¡",
    RemoteFunction = "ğŸ“¶",
}

-- Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ ĞºĞ¾Ğ´Ğ° ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ğ°
local function GetScriptSource(obj)
    local success, source = pcall(function()
        if obj:IsA("LocalScript") or obj:IsA("ModuleScript") or obj:IsA("Script") then
            return obj.Source or "[ĞšĞ¾Ğ´ Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½]"
        end
        return "[ĞĞµ ÑĞºÑ€Ğ¸Ğ¿Ñ‚]"
    end)
    if success then
        return source
    else
        return "[ĞÑˆĞ¸Ğ±ĞºĞ° Ñ‡Ñ‚ĞµĞ½Ğ¸Ñ: " .. tostring(source) .. "]"
    end
end

-- Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ÑÑ‚Ñ€Ğ¾ĞºĞ¸ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ° Ñ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒÑ Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ğ° ĞºĞ¾Ğ´Ğ°
local function MkRow(itemType, itemName, itemPath, itemObj, index)
    local col = typeColor[itemType] or C.Text

    local row = Instance.new("TextButton")
    row.Size = UDim2.new(1, 0, 0, isMobile and 28 or 26)
    row.BackgroundColor3 = index % 2 == 0 and C.Row1 or C.Row2
    row.BorderSizePixel = 0
    row.Text = ""
    row.ZIndex = 14
    row.Parent = ScrollFrame

    local icon = Instance.new("TextLabel")
    icon.Size = UDim2.new(0, isMobile and 20 or 22, 1, 0)
    icon.BackgroundTransparency = 1
    icon.Text = typeIcon[itemType] or "â€¢"
    icon.TextSize = isMobile and 10 or 11
    icon.Font = Enum.Font.GothamBold
    icon.ZIndex = 15
    icon.Parent = row

    local nameW = isMobile and 100 or 140
    local nameLbl = Instance.new("TextLabel")
    nameLbl.Size = UDim2.new(0, nameW, 1, 0)
    nameLbl.Position = UDim2.new(0, isMobile and 20 or 22, 0, 0)
    nameLbl.BackgroundTransparency = 1
    nameLbl.Text = itemName
    nameLbl.TextColor3 = col
    nameLbl.TextSize = isMobile and 9 or 10
    nameLbl.Font = Enum.Font.GothamBold
    nameLbl.TextXAlignment = Enum.TextXAlignment.Left
    nameLbl.TextTruncate = Enum.TextTruncate.AtEnd
    nameLbl.ZIndex = 15
    nameLbl.Parent = row

    local pathLbl = Instance.new("TextLabel")
    pathLbl.Size = UDim2.new(1, -(nameW + (isMobile and 26 or 30)), 1, 0)
    pathLbl.Position = UDim2.new(0, nameW + (isMobile and 22 or 24), 0, 0)
    pathLbl.BackgroundTransparency = 1
    pathLbl.Text = itemPath
    pathLbl.TextColor3 = C.Dim
    pathLbl.TextSize = isMobile and 8 or 9
    pathLbl.Font = Enum.Font.Gotham
    pathLbl.TextXAlignment = Enum.TextXAlignment.Left
    pathLbl.TextTruncate = Enum.TextTruncate.AtEnd
    pathLbl.ZIndex = 15
    pathLbl.Parent = row

    -- ĞšĞ»Ğ¸Ğº = Ğ²Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ğ° ĞºĞ¾Ğ´Ğ°
    row.MouseButton1Click:Connect(function()
        selectedItem = {type=itemType, name=itemName, path=itemPath, obj=itemObj}
        pcall(setclipboard, itemPath)
        local oldBg = row.BackgroundColor3
        row.BackgroundColor3 = col:Lerp(C.BG, 0.6)
        pathLbl.TextColor3 = col
        local oldText = pathLbl.Text
        pathLbl.Text = "âœ… Ğ’Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ¾!"
        task.delay(1, function()
            row.BackgroundColor3 = oldBg
            pathLbl.TextColor3 = C.Dim
            pathLbl.Text = oldText
        end)
    end)

    row.MouseEnter:Connect(function()
        Tween(row, {BackgroundColor3 = col:Lerp(C.BG, 0.82)}, 0.08)
    end)
    row.MouseLeave:Connect(function()
        Tween(row, {BackgroundColor3 = index % 2 == 0 and C.Row1 or C.Row2}, 0.08)
    end)

    return row
end

local function UpdateList()
    local query = SearchBar.Text:lower()
    for _, ch in ipairs(ScrollFrame:GetChildren()) do
        if ch:IsA("GuiObject") and ch ~= EmptyLbl and ch ~= ListLayout then
            ch:Destroy()
        end
    end

    local shown = 0
    for i, item in ipairs(allItems) do
        local matchFilter = activeFilter == "All"
            or (activeFilter == "Remote" and (item.type == "RemoteEvent" or item.type == "RemoteFunction"))
            or (activeFilter == "Local"  and item.type == "LocalScript")
            or (activeFilter == "Module" and item.type == "ModuleScript")
            or (activeFilter == "Script" and item.type == "Script")

        local matchSearch = query == ""
            or item.name:lower():find(query, 1, true)
            or item.path:lower():find(query, 1, true)

        if matchFilter and matchSearch then
            shown += 1
            MkRow(item.type, item.name, item.path, item.obj, shown)
        end
    end

    EmptyLbl.Visible = shown == 0
    if shown == 0 and #allItems > 0 then
        EmptyLbl.Text = "ğŸ” ĞĞ¸Ñ‡ĞµĞ³Ğ¾ Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ¾"
    elseif shown == 0 then
        EmptyLbl.Text = "ĞĞ°Ğ¶Ğ¼Ğ¸ Ğ¡ĞšĞĞĞ˜Ğ ĞĞ’ĞĞ¢Ğ¬"
    end

    ScrollFrame.CanvasSize = UDim2.new(0, 0, 0, ListLayout.AbsoluteContentSize.Y)
    CountLbl.Text = shown .. " / " .. #allItems
end

local function SetFilter(key)
    activeFilter = key
    for k, v in pairs(filterBtns) do
        if k == key then
            Tween(v.btn, {BackgroundColor3 = v.col}, 0.12)
            v.btn.TextColor3 = C.Text
        else
            Tween(v.btn, {BackgroundColor3 = C.Panel2}, 0.12)
            v.btn.TextColor3 = C.Dim
        end
    end
    UpdateList()
end

fAll.MouseButton1Click:Connect(function() SetFilter("All") end)
fRemote.MouseButton1Click:Connect(function() SetFilter("Remote") end)
fLocal.MouseButton1Click:Connect(function() SetFilter("Local") end)
fModule.MouseButton1Click:Connect(function() SetFilter("Module") end)
fScript.MouseButton1Click:Connect(function() SetFilter("Script") end)

SearchBar:GetPropertyChangedSignal("Text"):Connect(function()
    UpdateList()
end)

local function SetProgress(s, t)
    local pct = t > 0 and math.clamp(s/t, 0, 1) or 0
    Tween(BarFill, {Size = UDim2.new(pct, 0, 1, 0)}, 0.08)
    PercentLbl.Text = math.floor(pct*100) .. "%  (" .. s .. "/" .. t .. ")"
end

local function UpdateBadges()
    local ls, ms, ss, re = 0, 0, 0, 0
    for _, item in ipairs(allItems) do
        if item.type == "LocalScript"    then ls += 1
        elseif item.type == "ModuleScript"   then ms += 1
        elseif item.type == "Script"         then ss += 1
        elseif item.type == "RemoteEvent" or item.type == "RemoteFunction" then re += 1
        end
    end
    BadgeLocal.Text  = "ğŸŸ¡ Local: "  .. ls
    BadgeModule.Text = "ğŸŸ£ Module: " .. ms
    BadgeScript.Text = "ğŸŸ¢ Script: " .. ss
    BadgeRemote.Text = "ğŸ“¡ Remote: " .. re
end

local function BuildText()
    local lines = {
        "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•",
        "  Mobile Scanner v7.0 â€” " .. os.date("%Y-%m-%d %H:%M:%S"),
        "  ĞĞ°Ğ¹Ğ´ĞµĞ½Ğ¾: " .. #allItems .. " Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğ¾Ğ²",
        "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•",
        ""
    }
    for i, item in ipairs(allItems) do
        local n = tostring(i)
        while #n < 4 do n = " " .. n end
        table.insert(lines, n .. ")  [" .. item.type .. "]  " .. item.name .. "\n         " .. item.path)
    end
    return table.concat(lines, "\n")
end

-- ĞŸĞ£Ğ›Ğ¬Ğ¡ ĞºĞ½Ğ¾Ğ¿ĞºĞ¸
local pulseActive = false
local function StartPulse()
    pulseActive = true
    task.spawn(function()
        local bright = true
        while pulseActive do
            local col = bright and C.Blue:Lerp(Color3.fromRGB(100,160,255), 0.5) or Color3.fromRGB(30, 30, 70)
            Tween(ScanBtn, {BackgroundColor3 = col}, 0.45)
            bright = not bright
            task.wait(0.5)
        end
    end)
end
local function StopPulse()
    pulseActive = false
    Tween(ScanBtn, {BackgroundColor3 = C.Blue}, 0.2)
end

-- Ğ“Ğ›Ğ£Ğ‘ĞĞšĞĞ• Ğ¡ĞšĞĞĞ˜Ğ ĞĞ’ĞĞĞ˜Ğ• Ñ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸ĞµĞ¼ Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğ¾Ğ²
local function DeepScan()
    if scanning then return end
    scanning = true
    allItems = {}
    lastResult = ""
    selectedItem = nil

    ScanBtn.Text = isMobile and "â³ Ğ¡ĞºĞ°Ğ½Ğ¸Ñ€ÑƒÑ..." or "â³ Ğ¡ĞºĞ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ..."
    StartPulse()
    StatusLbl.Text = "Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ..."
    BarFill.Size = UDim2.new(0, 0, 1, 0)
    Tween(BarFill, {BackgroundColor3 = C.Blue}, 0.2)
    PercentLbl.Text = "0%"
    CountLbl.Text = ""
    BadgeLocal.Text  = "ğŸŸ¡ Local: 0"
    BadgeModule.Text = "ğŸŸ£ Module: 0"
    BadgeScript.Text = "ğŸŸ¢ Script: 0"
    BadgeRemote.Text = "ğŸ“¡ Remote: 0"

    for _, ch in ipairs(ScrollFrame:GetChildren()) do
        if ch ~= EmptyLbl and ch ~= ListLayout then ch:Destroy() end
    end
    EmptyLbl.Visible = true
    EmptyLbl.Text = "Ğ˜Ğ´Ñ‘Ñ‚ ÑĞºĞ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ..."

    local startTime = os.clock()

    -- Ğ Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ½Ñ‹Ğ¹ ÑĞ¿Ğ¸ÑĞ¾Ğº Ñ†ĞµĞ»ĞµĞ¹ Ğ´Ğ»Ñ Ğ³Ğ»ÑƒĞ±Ğ¾ĞºĞ¾Ğ³Ğ¾ ÑĞºĞ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
    local targets = {
        {svc = game:GetService("ReplicatedStorage"),       name = "ReplicatedStorage"},
        {svc = game:GetService("Workspace"),                name = "Workspace"},
        {svc = game:GetService("StarterGui"),               name = "StarterGui"},
        {svc = game:GetService("StarterPlayer"),            name = "StarterPlayer"},
        {svc = game:GetService("ReplicatedFirst"),          name = "ReplicatedFirst"},
        {svc = game:GetService("ServerScriptService"),      name = "ServerScriptService"},
        {svc = game:GetService("ServerStorage"),            name = "ServerStorage"},
        {svc = game:GetService("Lighting"),                 name = "Lighting"},
        {svc = game:GetService("SoundService"),             name = "SoundService"},
        {svc = game:GetService("Chat"),                     name = "Chat"},
        {svc = LocalPlayer:FindFirstChild("PlayerGui"),     name = "PlayerGui"},
        {svc = LocalPlayer:FindFirstChild("PlayerScripts"), name = "PlayerScripts"},
        {svc = LocalPlayer:FindFirstChild("Backpack"),      name = "Backpack"},
        {svc = LocalPlayer:FindFirstChild("Character"),     name = "Character"},
    }
    
    pcall(function()
        table.insert(targets, {svc = game:GetService("CoreGui"), name = "CoreGui"})
    end)

    -- ĞŸĞ¾Ğ´ÑÑ‡Ñ‘Ñ‚ total
    local total = 0
    for _, t in ipairs(targets) do
        if t.svc then 
            pcall(function() 
                total += #t.svc:GetDescendants() 
            end) 
        end
    end
    if total == 0 then total = 1 end

    local scanned = 0
    local seenPath = {}
    local BATCH = isMobile and 25 or 40

    local typeOrder = {RemoteFunction=1, RemoteEvent=2, LocalScript=3, ModuleScript=4, Script=5}

    for _, t in ipairs(targets) do
        if t.svc then
            StatusLbl.Text = "ğŸ“‚ " .. t.name
            pcall(function()
                local descs = t.svc:GetDescendants()
                for i, v in ipairs(descs) do
                    scanned += 1
                    local cn = v.ClassName
                    if cn=="LocalScript" or cn=="ModuleScript" or cn=="Script"
                        or cn=="RemoteEvent" or cn=="RemoteFunction" then
                        local fp = v:GetFullName()
                        if not seenPath[fp] then
                            seenPath[fp] = true
                            table.insert(allItems, {
                                type = cn, 
                                name = v.Name, 
                                path = fp, 
                                obj = v,
                                order = typeOrder[cn] or 9
                            })
                        end
                    end
                    if i % BATCH == 0 then
                        SetProgress(scanned, total)
                        task.wait()
                    end
                end
            end)
        end
    end

    -- Ğ¡Ğ¾Ñ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²ĞºĞ°
    table.sort(allItems, function(a, b)
        if a.order ~= b.order then return a.order < b.order end
        return a.path < b.path
    end)

    SetProgress(total, total)
    UpdateBadges()
    UpdateList()

    lastResult = BuildText()
    pcall(setclipboard, lastResult)

    local elapsed = math.floor((os.clock() - startTime) * 10) / 10
    TimeLbl.Text = "â± " .. elapsed .. "Ñ"

    StatusLbl.Text = "âœ… Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¾! " .. #allItems .. " Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğ¾Ğ²"
    Tween(BarFill, {BackgroundColor3 = C.Green}, 0.3)

    StopPulse()
    ScanBtn.Text = isMobile and "ğŸ” ĞŸĞ•Ğ Ğ•Ğ¡ĞšĞĞĞ˜Ğ ĞĞ’ĞĞ¢Ğ¬" or "ğŸ” ĞŸĞ•Ğ Ğ•Ğ¡ĞšĞĞĞ˜Ğ ĞĞ’ĞĞ¢Ğ¬"
    task.delay(3, function()
        if not scanning then ScanBtn.Text = "ğŸ” Ğ¡ĞšĞĞĞ˜Ğ ĞĞ’ĞĞ¢Ğ¬" end
    end)

    scanning = false
end

-- ĞŸĞ ĞĞ¡ĞœĞĞ¢Ğ  ĞšĞĞ”Ğ
local CodeViewer = nil
local function ShowCodeViewer()
    if not selectedItem then
        StatusLbl.Text = "âš ï¸ Ğ¡Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ° Ğ²Ñ‹Ğ±ĞµÑ€Ğ¸ Ğ¾Ğ±ÑŠĞµĞºÑ‚ Ğ¸Ğ· ÑĞ¿Ğ¸ÑĞºĞ°!"
        return
    end
    
    if CodeViewer then CodeViewer:Destroy() end
    
    CodeViewer = Instance.new("Frame")
    CodeViewer.Size = UDim2.new(0, FULL_W - 40, 0, FULL_H - 100)
    CodeViewer.Position = UDim2.new(0.5, -(FULL_W - 40)/2, 0.5, -(FULL_H - 100)/2)
    CodeViewer.BackgroundColor3 = C.BG
    CodeViewer.BorderSizePixel = 0
    CodeViewer.ZIndex = 100
    CodeViewer.Parent = ScreenGui
    MkCorner(CodeViewer, 12)
    MkStroke(CodeViewer, C.Blue, 2)
    
    local cvHeader = Instance.new("Frame")
    cvHeader.Size = UDim2.new(1, 0, 0, 36)
    cvHeader.BackgroundColor3 = C.Panel
    cvHeader.BorderSizePixel = 0
    cvHeader.ZIndex = 101
    cvHeader.Parent = CodeViewer
    MkCorner(cvHeader, 12)
    
    local cvHeaderFix = Instance.new("Frame")
    cvHeaderFix.Size = UDim2.new(1, 0, 0.5, 0)
    cvHeaderFix.Position = UDim2.new(0, 0, 0.5, 0)
    cvHeaderFix.BackgroundColor3 = C.Panel
    cvHeaderFix.BorderSizePixel = 0
    cvHeaderFix.ZIndex = 101
    cvHeaderFix.Parent = cvHeader
    
    local cvTitle = Instance.new("TextLabel")
    cvTitle.Size = UDim2.new(1, -40, 1, 0)
    cvTitle.Position = UDim2.new(0, 10, 0, 0)
    cvTitle.BackgroundTransparency = 1
    cvTitle.Text = "ğŸ‘ " .. selectedItem.name
    cvTitle.TextColor3 = typeColor[selectedItem.type] or C.Text
    cvTitle.TextSize = isMobile and 11 or 13
    cvTitle.Font = Enum.Font.GothamBold
    cvTitle.TextXAlignment = Enum.TextXAlignment.Left
    cvTitle.TextTruncate = Enum.TextTruncate.AtEnd
    cvTitle.ZIndex = 102
    cvTitle.Parent = cvHeader
    
    local cvClose = Instance.new("TextButton")
    cvClose.Size = UDim2.new(0, 26, 0, 26)
    cvClose.Position = UDim2.new(1, -31, 0.5, -13)
    cvClose.BackgroundColor3 = Color3.fromRGB(80, 22, 22)
    cvClose.Text = "âœ•"
    cvClose.TextColor3 = C.Red
    cvClose.TextSize = 12
    cvClose.Font = Enum.Font.GothamBold
    cvClose.BorderSizePixel = 0
    cvClose.ZIndex = 102
    cvClose.Parent = cvHeader
    MkCorner(cvClose, 6)
    
    local cvScroll = Instance.new("ScrollingFrame")
    cvScroll.Size = UDim2.new(1, -20, 1, -46)
    cvScroll.Position = UDim2.new(0, 10, 0, 40)
    cvScroll.BackgroundColor3 = C.Panel2
    cvScroll.BorderSizePixel = 0
    cvScroll.ScrollBarThickness = isMobile and 3 or 4
    cvScroll.ScrollBarImageColor3 = C.Blue
    cvScroll.ZIndex = 101
    cvScroll.Parent = CodeViewer
    MkCorner(cvScroll, 8)
    
    local cvText = Instance.new("TextLabel")
    cvText.Size = UDim2.new(1, -10, 0, 0)
    cvText.BackgroundTransparency = 1
    cvText.TextColor3 = C.Text
    cvText.TextSize = isMobile and 8 or 9
    cvText.Font = Enum.Font.Code
    cvText.TextXAlignment = Enum.TextXAlignment.Left
    cvText.TextYAlignment = Enum.TextYAlignment.Top
    cvText.TextWrapped = true
    cvText.ZIndex = 102
    cvText.Parent = cvScroll
    MkPadding(cvText, 6, 6, 6, 6)
    
    -- ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ ĞºĞ¾Ğ´Ğ°
    local code = GetScriptSource(selectedItem.obj)
    cvText.Text = code
    
    -- ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€
    task.wait()
    local textBounds = cvText.TextBounds
    cvText.Size = UDim2.new(1, -10, 0, math.max(textBounds.Y + 20, cvScroll.AbsoluteSize.Y))
    cvScroll.CanvasSize = UDim2.new(0, 0, 0, cvText.AbsoluteSize.Y + 10)
    
    cvClose.MouseButton1Click:Connect(function()
        CodeViewer:Destroy()
        CodeViewer = nil
    end)
end

-- Ğ¡ĞĞ‘Ğ«Ğ¢Ğ˜Ğ¯ ĞšĞĞĞŸĞĞš
ScanBtn.MouseButton1Click:Connect(function()
    Tween(BarFill, {BackgroundColor3 = C.Blue}, 0.2)
    task.spawn(DeepScan)
end)

ViewBtn.MouseButton1Click:Connect(function()
    ShowCodeViewer()
end)

CopyBtn.MouseButton1Click:Connect(function()
    if lastResult == "" then
        StatusLbl.Text = "âš ï¸ Ğ¡Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ° Ğ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸ ÑĞºĞ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ!"
        return
    end
    pcall(setclipboard, lastResult)
    local old = CopyBtn.Text
    CopyBtn.Text = "âœ… OK!"
    CopyBtn.BackgroundColor3 = Color3.fromRGB(30, 80, 40)
    task.delay(1.5, function()
        CopyBtn.Text = old
        CopyBtn.BackgroundColor3 = Color3.fromRGB(35, 50, 90)
    end)
end)

PrintBtn.MouseButton1Click:Connect(function()
    if lastResult == "" then return end
    print(lastResult)
    local old = PrintBtn.Text
    PrintBtn.Text = "âœ… OK!"
    PrintBtn.BackgroundColor3 = Color3.fromRGB(30, 70, 30)
    task.delay(1.5, function()
        PrintBtn.Text = old
        PrintBtn.BackgroundColor3 = Color3.fromRGB(30, 45, 30)
    end)
end)

CloseBtn.MouseButton1Click:Connect(function()
    ScreenGui:Destroy()
end)

-- Ğ¥Ğ¾Ñ‚ĞºĞµĞ¹ Ğ´Ğ»Ñ ĞŸĞš
if not isMobile then
    UserInputService.InputBegan:Connect(function(input, gpe)
        if not gpe and input.KeyCode == Enum.KeyCode.RightControl then
            task.spawn(DeepScan)
        end
    end)
end

-- Ğ¡Ğ²Ğ°Ğ¹Ğ¿ Ğ²Ğ½Ğ¸Ğ· Ğ´Ğ»Ñ Ğ·Ğ°ĞºÑ€Ñ‹Ñ‚Ğ¸Ñ (Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¶ĞµÑÑ‚)
if isMobile then
    local swipeStart = nil
    Header.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.Touch then
            swipeStart = input.Position
        end
    end)
    Header.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.Touch and swipeStart then
            local swipeDelta = input.Position - swipeStart
            if swipeDelta.Y > 80 then
                minimized = true
                Tween(Frame, {Size = UDim2.new(0, FULL_W, 0, MINI_H)}, 0.25, Enum.EasingStyle.Quint)
                MinBtn.Text = "â–¡"
            end
            swipeStart = nil
        end
    end)
end

-- ĞĞ²Ñ‚Ğ¾Ğ·Ğ°Ğ¿ÑƒÑĞº
task.spawn(DeepScan)
print("[Mobile Scanner v7.0] Ğ—Ğ°Ğ¿ÑƒÑ‰ĞµĞ½. " .. (isMobile and "ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½ Ğ´Ğ»Ñ Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½Ğ¾Ğ²." or "RCtrl = Ğ¿ĞµÑ€ĞµÑĞºĞ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ."))
print("ĞšĞ»Ğ¸ĞºĞ½Ğ¸ Ğ¿Ğ¾ ÑÑ‚Ñ€Ğ¾ĞºĞµ = Ğ²Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ, ĞºĞ½Ğ¾Ğ¿ĞºĞ° 'ĞšĞ¾Ğ´' = Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ Ğ¸ÑÑ…Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾ ĞºĞ¾Ğ´Ğ° ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ğ°")
